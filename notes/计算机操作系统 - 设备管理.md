
# 磁盘结构
此处说的是**机械硬盘**
- 盘面（Platter）：一个磁盘有多个盘面；
- 磁道（Track）：盘面上的圆形带状区域，一个盘面可以有多个磁道；
- 扇区（Track Sector）：磁道上的一个弧段，一个磁道可以有多个扇区，它是最小的物理储存单位，目前主要有 512 bytes 与 4 K 两种大小；
- 磁头（Head）：与盘面非常接近，能够将盘面上的磁场转换为电信号（读），或者将电信号转换为盘面的磁场（写）；
- 制动手臂（Actuator arm）：用于在磁道之间移动磁头；
- 主轴（Spindle）：使整个盘面转动。

<div align="center"> <img src="pics/014fbc4d-d873-4a12-b160-867ddaed9807.jpg"/> </div><br>

# 磁盘调度算法

读写一个磁盘块的时间的影响因素有：

- 寻道时间（制动手臂移动，使得磁头移动到适当的磁道上）
- 旋转时间（磁头等待主轴转动盘面使目标扇区第一位旋转到磁头下）
- 实际的数据传输时间(目标在的第一位到最后一位都经过磁头的时间)

其中，寻道时间最长，因此磁盘调度的主要目标是**使磁盘的平均寻道时间**最短。

`参考`

- 为什么寻道时间最长?
[磁盘结构介绍](https://www.zhihu.com/question/48254780)
- 寻道时间对磁盘存取的那种速度影响最大?

## 先来先服务

> FCFS, First Come First Served

按照磁盘请求的顺序进行调度。

优点是公平和简单。缺点也很明显，因为未对寻道做任何优化，使平均寻道时间可能较长。

## 最短寻道时间优先

> SSTF, Shortest Seek Time First

优先调度与当前磁头所在磁道距离最近的磁道。

虽然平均寻道时间比较低，但是不够公平。有饥饿现象，两端的磁道请求更容易出现。

<div align="center"> <img src="pics/4e2485e4-34bd-4967-9f02-0c093b797aaa.png"/> </div><br>

`参考`

- 饥饿现象是什么？为什么两端更容易出现？

## 电梯(扫描)算法

> SCAN

电梯总是保持一个方向运行，为这个方向最近的请求先服务，直到该方向没有请求为止，然后改变方向。

因为考虑了移动方向，因此所有的磁盘请求都会被满足，解决了 SSTF 的饥饿问题。

<div align="center"> <img src="pics/271ce08f-c124-475f-b490-be44fedc6d2e.png"/> </div><br>

